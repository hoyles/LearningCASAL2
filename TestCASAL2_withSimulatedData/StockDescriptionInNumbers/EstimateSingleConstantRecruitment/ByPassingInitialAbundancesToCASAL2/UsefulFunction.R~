
# Read matrices at age from CASAL2 reports

ReadYearCrossAgeMat <- function(Identifier = '', ReportFileName = '/tmp/tmp.txt'){

# Which line does the Identifier appears at
line.start <- grep(Identifier ,readLines(ReportFileName), fixed = TRUE)

tmp.mat <- matrix(scan(ReportFileName, skip = line.start + 2, nlines = combination.of.par$nb.of.cohort[1] - combination.of.par$max.age[1] + 1), ncol = combination.of.par$max.age + 1, byrow=T)
data.tab <- as.data.frame(tmp.mat[,-1]);
dimnames(data.tab)[[1]] <- tmp.mat[,1]; dimnames(data.tab)[[2]] <- scan("/tmp/output.txt", what = "character", skip = line.start + 1, nlines =1)

return(data.tab)
}



